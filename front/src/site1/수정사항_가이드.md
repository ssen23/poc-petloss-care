# 🔄 늘품 플랫폼 수정사항 가이드

## 📋 수정 완료 파일 목록

### ✅ 완료된 파일들 (Test\front\src\site2\)

1. **NeulPoomApp.jsx** ⭐ 핵심
   - 진단 결과 화면(Screen2.5) 추가
   - 재방문 사용자 자동 로그인 유지

2. **NeulPoomScreen2.jsx** (나에게 맞는 위로 찾기)
   - 버튼 텍스트 변경: "치유 시작하기" → **"위로 결과보기"**
   - 아이콘 변경: Sparkles → Eye

3. **NeulPoomScreen2_5.jsx** ⭐ 신규 생성
   - 진단 결과 화면 (Screen 2와 3 사이)
   - 페르소나 타입, 차원별 점수 표시
   - SNS 공유 버튼
   - "진단 결과를 바탕으로 {펫이름}님만을 위한 치유 시작하기" 버튼

4. **NeulPoomScreen3.jsx** (채팅 화면)
   - ✅ 빠른 응답 버튼 **삭제** (오늘 하루는..., 가장 행복했던..., 감정 일기...)
   - ✅ 헤더 버튼: "공유하기" → **"다음 치유 여정으로 이동"**
   - onShare → onNextJourney로 prop 이름 변경

5. **NeulPoomScreen4.jsx** (다음 치유 여정)
   - ✅ 상단 공유 섹션 **전체 삭제**
   - ✅ "나의 치유 여정, 다음 단계" 섹션만 유지
   - 파트너 카드 3개 (추모 서비스, 펫 보험, 심리 상담)

---

## ⚠️ 추가 필요한 파일들 (Site1 - 바이럴 테스트)

다음 파일들을 업로드해주시면 수정하겠습니다:

### 필수 파일 (Test\front\src\site1\)

1. **Site1Landing.jsx** - 바이럴 테스트 메인 페이지
   - 수정 필요: 하단에 늘품 링크 추가

2. **TestPage.jsx** - 개별 테스트 페이지  
   - 수정 필요: 하단에 "테스트 홈으로", "늘품: 위로 성향 진단" 링크 추가

3. **TestResult.jsx** - 테스트 결과 페이지
   - 수정 필요: 하단에 "테스트 홈으로", "늘품: 위로 성향 진단" 링크 추가

---

## 🎯 화면 플로우 변경사항

### 기존 플로우
```
Screen1 → Screen2 → Screen3 (채팅) → Screen4 (공유)
```

### 새로운 플로우
```
Screen1 (펫 정보)
   ↓
Screen2 (12문항 진단)
   ↓
Screen2.5 (진단 결과지) ✨ 신규
   ↓
Screen3 (채팅)
   ↓
Screen4 (다음 치유 여정) ✨ 수정
```

---

## 📝 주요 수정 내용

### 1. Screen2 (나에게 맞는 위로 찾기)

**기존 버튼:**
```jsx
{petInfo.petName}님만을 위한 치유 시작하기
<Sparkles /> + <ArrowRight />
```

**수정 후:**
```jsx
{petInfo.petName}님이 원하는 위로 결과보기
<Eye />
```

### 2. Screen2.5 (진단 결과지) - 신규 생성

**구성 요소:**
- 페르소나 타입 배지 (LISTENER, MENTOR, etc.)
- 페르소나 설명
- 특성 3가지
- 차원별 점수 그래프 (6개 차원)
- SNS 공유 버튼
- CTA: "진단 결과를 바탕으로 {펫이름}님만을 위한 치유 시작하기"

### 3. Screen3 (채팅)

**삭제:**
```jsx
// 빠른 응답 버튼들
const quickMessages = [
  "오늘 하루는 어땠나요?",
  "가장 행복했던 순간을 떠올려봅니다.",
  "감정 일기를 쓰고 싶어요."
];
```

**헤더 버튼 변경:**
```jsx
// 기존
<button onClick={onShare}>공유하기</button>

// 수정 후
<button onClick={onNextJourney}>다음 치유 여정으로 이동</button>
```

### 4. Screen4 (다음 치유 여정)

**삭제된 섹션:**
```jsx
// ❌ 삭제: 공유 카드 전체
<div className="bg-gray-50 rounded-3xl...">
  <h2>{petInfo.petName}</h2>
  <Instagram 공유 />
  <KakaoTalk 공유 />
  <링크 복사 />
</div>
```

**유지된 섹션:**
```jsx
// ✅ 유지: 파트너 섹션
<div>
  <h2>나의 치유 여정, 다음 단계</h2>
  <p>신뢰할 수 있는 전문 파트너들이 함께합니다</p>
  {partners.map(...)}
</div>
```

---

## 🔧 파일 적용 방법

### 1단계: 파일 교체

```bash
# 프론트엔드 폴더로 이동
cd Test/front/src/site2/

# 수정된 파일들 복사
cp [다운로드 위치]/NeulPoomApp.jsx ./
cp [다운로드 위치]/NeulPoomScreen2.jsx ./
cp [다운로드 위치]/NeulPoomScreen2_5.jsx ./  # 신규
cp [다운로드 위치]/NeulPoomScreen3.jsx ./
cp [다운로드 위치]/NeulPoomScreen4.jsx ./
```

### 2단계: 서버 재시작

```bash
# 프론트엔드 재시작
npm run dev
```

---

## ✅ 테스트 시나리오

### 시나리오 1: 신규 사용자 진단

```
1. /neulpoom/onboarding 접속
2. Screen1: 펫 정보 입력 (초코, 5년)
3. Screen2: 12문항 진단 완료
4. ✨ Screen2.5: 진단 결과 확인
   - 페르소나: "정서 중심 경청자"
   - 차원 점수 확인
5. "진단 결과를 바탕으로 초코님만을 위한 치유 시작하기" 클릭
6. Screen3: 채팅 시작 ✅
   - 빠른 응답 버튼 없음 확인
7. "다음 치유 여정으로 이동" 클릭
8. Screen4: 파트너 정보만 표시 ✅
   - 공유 카드 없음 확인
```

### 시나리오 2: Screen2 버튼 확인

```
Screen2에서 12문항 완료 후:
✅ 버튼 텍스트: "{펫이름}님이 원하는 위로 결과보기"
✅ 아이콘: 눈(Eye) 아이콘
```

### 시나리오 3: Screen3 변경사항 확인

```
채팅 화면 확인:
✅ 빠른 응답 버튼 영역 없음
✅ 헤더 버튼: "다음 치유 여정으로 이동"
```

### 시나리오 4: Screen4 변경사항 확인

```
다음 치유 여정 화면:
✅ 상단 공유 섹션 없음
✅ 파트너 카드만 표시
✅ "나의 치유 여정, 다음 단계" 제목
```

---

## 🎨 UI 변경사항 요약

### Screen2.5 (신규)
```
┌─────────────────────────────┐
│   ✨ 진단 결과              │
│                             │
│   💙 정서 중심 경청자        │
│                             │
│   설명 + 특성 3개            │
│                             │
│   차원별 점수 그래프          │
│                             │
│   [SNS 공유하기]             │
│                             │
│   [진단 결과를 바탕으로       │
│    초코님만을 위한           │
│    치유 시작하기] 💚          │
└─────────────────────────────┘
```

### Screen3 변경점
```
┌─────────────────────────────┐
│ 헤더: 초코 추모 공간          │
│ [다음 치유 여정으로 이동] ✨  │ ← 변경
├─────────────────────────────┤
│                             │
│   (채팅 메시지들)             │
│                             │
├─────────────────────────────┤
│ ❌ 빠른 응답 삭제됨           │ ← 삭제
│                             │
│ [입력창] [전송]              │
└─────────────────────────────┘
```

### Screen4 변경점
```
┌─────────────────────────────┐
│ ❌ 공유 섹션 삭제됨           │ ← 삭제
├─────────────────────────────┤
│                             │
│ 나의 치유 여정, 다음 단계     │
│                             │
│ 🕊️ 반려동물 추모 서비스       │
│ 🛡️ 펫 보험 특별 혜택          │
│ 💚 반려동물 심리 상담          │
│                             │
└─────────────────────────────┘
```

---

## 🐛 예상 문제 및 해결

### 문제 1: Screen2.5가 표시되지 않음

**원인:** NeulPoomApp.jsx에서 import 누락

**해결:**
```jsx
import NeulPoomScreen2_5 from './NeulPoomScreen2_5';

// JSX 내부
{currentScreen === 2.5 && (
  <NeulPoomScreen2_5 
    petInfo={petInfo} 
    diagnosisResult={diagnosisResult}
    onStartChat={handleGoToChat}
  />
)}
```

### 문제 2: 빠른 응답이 아직 보임

**원인:** 기존 Screen3 파일이 교체되지 않음

**해결:**
```bash
# 파일 확인
grep "quickMessages" Test/front/src/site2/NeulPoomScreen3.jsx

# 결과가 나오면 파일 재교체 필요
```

### 문제 3: Screen4에 공유 카드가 여전히 보임

**원인:** 기존 Screen4 파일이 교체되지 않음

**해결:**
파일 재교체 필요

---

## 📦 다음 작업

Site1 파일들을 업로드해주시면:

1. **Site1Landing.jsx** 하단에 추가:
```jsx
<div className="text-center mt-12 pt-12 border-t border-gray-200">
  <p className="text-gray-600 mb-4">
    반려동물과의 이별이 힘드신가요?
  </p>
  <Link 
    to="/neulpoom" 
    className="text-teal-600 hover:text-teal-700 font-medium"
  >
    늘품: 맞춤형 위로 성향 진단하기 →
  </Link>
</div>
```

2. **TestPage.jsx + TestResult.jsx** 하단에 추가:
```jsx
<div className="mt-12 flex justify-center gap-4 text-sm">
  <Link to="/" className="text-gray-600 hover:text-gray-900">
    테스트 홈으로 돌아가기
  </Link>
  <span className="text-gray-300">|</span>
  <Link to="/neulpoom" className="text-teal-600 hover:text-teal-700">
    늘품: 위로 성향 진단해보기
  </Link>
</div>
```

---

**완성! 파일들을 교체하고 테스트해보세요** 🎉
