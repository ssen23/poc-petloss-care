# ğŸ‰ ëŠ˜í’ˆ í”Œë«í¼ - ìµœì¢… í”Œë¡œìš° ì™„ì„± ê°€ì´ë“œ

## ğŸ“‹ ìˆ˜ì •ëœ ì™„ì „ í”Œë¡œìš°

```
í™ˆí˜ì´ì§€ [ì¹˜ìœ  ì—¬ì • ê°€ê¸°]
    â†“
ìœ„ë¡œ ì„±í–¥ ì§„ë‹¨ (Screen2) - 12ë¬¸í•­
    â†“
ì§„ë‹¨ ì™„ë£Œ â†’ 3ê°œ ë²„íŠ¼ ì„ íƒ (Screen2.5_Choice)
    â”œâ”€ [ê³µìœ ìš© ê²°ê³¼ì§€] â†’ Screen2.5_Share
    â”œâ”€ [ì„¤ëª…ìš© ê²°ê³¼ì§€] â†’ ì–¼ëŸ¿ â†’ Screen1
    â”œâ”€ [ì •ë³´ì…ë ¥í•˜ëŸ¬ê°€ê¸°] â†’ Screen1
    â””â”€ [ëŠ˜í’ˆ: í™ˆí˜ì´ì§€ ë‘˜ëŸ¬ë³´ê¸°] â†’ Landing
    
Screen1 (ì •ë³´ ì…ë ¥)
    â”œâ”€ [â† ì´ì „ìœ¼ë¡œ] â†’ Screen2.5_Choice
    â””â”€ ì™„ë£Œ â†’ Screen2.5_Detail
    
Screen3 (ì±„íŒ…) âœ¨ í—¤ë” ë²„íŠ¼ ë³€ê²½
    â”œâ”€ [ìœ„ë¡œì„±í–¥ ì§„ë‹¨ ê²°ê³¼ì§€] â†’ Screen2.5_Detail âœ¨
    â”‚      â””â”€ [ê°„ë‹¨í•œ ê²°ê³¼ì§€ë¡œ ë³´ê¸°] â†’ Screen2.5_Share
    â”‚             â””â”€ [â† ìì„¸í•œ ê²°ê³¼ì§€ ë³´ê¸°] â†’ Screen2.5_Detail
    â”‚                    â””â”€ [â† ëŒì•„ê°€ê¸°] â†’ Screen3 (ì±„íŒ…)
    â”œâ”€ [ë‹¤ìŒ ì¹˜ìœ  ì—¬ì •] â†’ Screen4
    â””â”€ [ëŠ˜í’ˆ] â†’ Landing âœ¨
```

---

## âœ¨ í•µì‹¬ ìˆ˜ì •ì‚¬í•­

### 1. Screen3 (ì±„íŒ…) - í—¤ë” ë²„íŠ¼ êµ¬ì¡° ë³€ê²½

**ë³€ê²½ ì „:**
```
[ìì„¸í•œ ê²°ê³¼ì§€] [ê³µìœ ìš©] [ë‹¤ìŒ ì¹˜ìœ  ì—¬ì •]
```

**ë³€ê²½ í›„:**
```
[ìœ„ë¡œì„±í–¥ ì§„ë‹¨ ê²°ê³¼ì§€] [ë‹¤ìŒ ì¹˜ìœ  ì—¬ì •] [ëŠ˜í’ˆ]
```

### 2. ê²°ê³¼ì§€ ìˆœí™˜ í”Œë¡œìš° (ì •ë³´ ì…ë ¥ í›„)

```
Screen3 (ì±„íŒ…)
    â””â”€ [ìœ„ë¡œì„±í–¥ ì§„ë‹¨ ê²°ê³¼ì§€] í´ë¦­
           â†“
       Screen2.5_Detail (ìì„¸í•œ ê²°ê³¼ì§€)
           â””â”€ [ê°„ë‹¨í•œ ê²°ê³¼ì§€ë¡œ ë³´ê¸°] ë²„íŠ¼ âœ¨
                  â†“
              Screen2.5_Share (ê°„ë‹¨í•œ ê²°ê³¼ì§€)
                  â””â”€ [â† ìì„¸í•œ ê²°ê³¼ì§€ ë³´ê¸°] âœ¨
                         â†“
                     Screen2.5_Detail
                         â””â”€ [â† ëŒì•„ê°€ê¸°]
                                â†“
                            Screen3 (ì±„íŒ…)
```

### 3. ë’¤ë¡œê°€ê¸° ë™ì‘ ì°¨ë³„í™”

#### ì •ë³´ ì…ë ¥ **ì „** (userId ì—†ìŒ)
```
Screen2.5_Share [â† ëŒì•„ê°€ê¸°] â†’ Screen2.5_Choice
Screen2.5_Detail [â† ëŒì•„ê°€ê¸°] â†’ Screen2.5_Choice
```

#### ì •ë³´ ì…ë ¥ **í›„** (userId ìˆìŒ, fromChat = true)
```
ì±„íŒ… â†’ Detail
Detail [â† ëŒì•„ê°€ê¸°] â†’ ì±„íŒ…
Detail â†’ [ê°„ë‹¨í•œ ê²°ê³¼ì§€] â†’ Share
Share [â† ìì„¸í•œ ê²°ê³¼ì§€ ë³´ê¸°] â†’ Detail
Detail [â† ëŒì•„ê°€ê¸°] â†’ ì±„íŒ…
```

---

## ğŸ“¦ ìˆ˜ì •ëœ íŒŒì¼ ëª©ë¡ (5ê°œ)

1. **NeulPoomApp_ìµœì¢…ì™„ì„±.jsx** â†’ `NeulPoomApp.jsx`
   - `fromChat` state ì¶”ê°€ë¡œ ì±„íŒ…ì—ì„œ ì˜¨ ê²½ìš° ì¶”ì 
   - `handleViewResultFromChat` - ì±„íŒ…ì—ì„œ ê²°ê³¼ì§€ ë³´ê¸° (í†µí•©)
   - `handleDetailToShare` - Detail â†’ Share
   - `handleShareToDetail` - Share â†’ Detail
   - `handleBackFromResult` - ìƒí™©ë³„ ë’¤ë¡œê°€ê¸° ë¡œì§

2. **NeulPoomScreen3_ìµœì¢….jsx** â†’ `NeulPoomScreen3.jsx`
   - í—¤ë” ë²„íŠ¼ 3ê°œë¡œ ë³€ê²½
   - `onViewResult` prop í•˜ë‚˜ë¡œ í†µí•©
   - `[ëŠ˜í’ˆ]` ë²„íŠ¼ ì¶”ê°€

3. **NeulPoomScreen2_5_Detail_ìµœì¢….jsx** â†’ `NeulPoomScreen2_5_Detail.jsx`
   - `onViewShare` prop ì¶”ê°€
   - `[ê°„ë‹¨í•œ ê²°ê³¼ì§€ë¡œ ë³´ê¸°]` ë²„íŠ¼ ì¶”ê°€

4. **NeulPoomScreen2_5_Share_ìµœì¢….jsx** â†’ `NeulPoomScreen2_5_Share.jsx`
   - `onViewDetail` prop ì¶”ê°€
   - ë’¤ë¡œê°€ê¸° í…ìŠ¤íŠ¸ ë™ì  ë³€ê²½

5. **NeulPoomScreen4_ì™„ì „ìˆ˜ì •.jsx** â†’ `NeulPoomScreen4.jsx`
   - í•˜ë‹¨ ë²„íŠ¼: "ëŠ˜í’ˆ: í™ˆí˜ì´ì§€ì—ì„œ ìì„¸íˆ ì•Œì•„ë³´ê¸°"

---

## ğŸ¯ ìƒì„¸ ë³€ê²½ì‚¬í•­

### NeulPoomApp.jsx

**ì¶”ê°€ëœ State:**
```jsx
const [fromChat, setFromChat] = useState(false); // ì±„íŒ…ì—ì„œ ì™”ëŠ”ì§€ ì¶”ì 
```

**í•µì‹¬ í•¨ìˆ˜ë“¤:**

```jsx
// ì±„íŒ…ì—ì„œ ê²°ê³¼ì§€ ë³´ê¸° (í†µí•©)
const handleViewResultFromChat = () => {
  setFromChat(true);
  setCurrentScreen('detail');
};

// Detail â†’ Share
const handleDetailToShare = () => {
  setCurrentScreen('share');
};

// Share â†’ Detail
const handleShareToDetail = () => {
  setCurrentScreen('detail');
};

// ë’¤ë¡œê°€ê¸° ë¡œì§ (ìƒí™©ë³„)
const handleBackFromResult = () => {
  if (fromChat) {
    // ì±„íŒ…ì—ì„œ ì˜¨ ê²½ìš°
    if (currentScreen === 'share') {
      setCurrentScreen('detail'); // Share â†’ Detail
    } else {
      setFromChat(false);
      setCurrentScreen('chat'); // Detail â†’ Chat
    }
  } else {
    // Choiceì—ì„œ ì˜¨ ê²½ìš°
    if (userId) {
      setCurrentScreen('chat'); // Detail â†’ Chat
    } else {
      setCurrentScreen('choice'); // Detail/Share â†’ Choice
    }
  }
};
```

**Props ì „ë‹¬:**

```jsx
// Screen3
<NeulPoomScreen3
  petInfo={petInfo}
  userId={userId}
  diagnosisResult={diagnosisResult}
  onViewResult={handleViewResultFromChat}  // âœ¨ í†µí•©
  onNextJourney={handleNextJourney}
/>

// Detail
<NeulPoomScreen2_5_Detail
  petInfo={petInfo}
  diagnosisResult={diagnosisResult}
  onStartChat={handleStartChat}
  onBack={handleBackFromResult}
  onViewShare={fromChat ? handleDetailToShare : null}  // âœ¨ ì¡°ê±´ë¶€
/>

// Share
<NeulPoomScreen2_5_Share
  diagnosisResult={diagnosisResult}
  onStartChat={handleStartChat}
  onBack={handleBackFromResult}
  onViewDetail={fromChat ? handleShareToDetail : null}  // âœ¨ ì¡°ê±´ë¶€
/>
```

### NeulPoomScreen3.jsx

**í—¤ë” ë²„íŠ¼ ë³€ê²½:**

```jsx
<div className="flex items-center gap-2">
  {/* 1. ìœ„ë¡œì„±í–¥ ì§„ë‹¨ ê²°ê³¼ì§€ */}
  <button
    onClick={onViewResult}
    className="px-3 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-all text-sm font-medium text-gray-700 flex items-center gap-2"
    title="ìœ„ë¡œì„±í–¥ ì§„ë‹¨ ê²°ê³¼ì§€"
  >
    <FileText className="w-4 h-4" />
    <span className="hidden sm:inline">ìœ„ë¡œì„±í–¥ ì§„ë‹¨ ê²°ê³¼ì§€</span>
  </button>
  
  {/* 2. ë‹¤ìŒ ì¹˜ìœ  ì—¬ì • */}
  <button
    onClick={onNextJourney}
    className="px-3 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-all text-sm font-medium text-gray-700"
  >
    ë‹¤ìŒ ì¹˜ìœ  ì—¬ì •
  </button>
  
  {/* 3. ëŠ˜í’ˆ */}
  <button
    onClick={handleGoToHome}
    className="px-3 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-all text-sm font-medium text-gray-700 flex items-center gap-2"
    title="ëŠ˜í’ˆ í™ˆí˜ì´ì§€"
  >
    <Home className="w-4 h-4" />
    <span className="hidden sm:inline">ëŠ˜í’ˆ</span>
  </button>
</div>
```

### NeulPoomScreen2_5_Detail.jsx

**ê°„ë‹¨í•œ ê²°ê³¼ì§€ ë²„íŠ¼ ì¶”ê°€:**

```jsx
{/* âœ¨ ê°„ë‹¨í•œ ê²°ê³¼ì§€ë¡œ ë³´ê¸° ë²„íŠ¼ */}
{onViewShare && (
  <div className="mb-6 fade-in">
    <button
      onClick={onViewShare}
      className="w-full flex items-center justify-center gap-3 py-4 bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white rounded-xl font-medium transition-all shadow-md"
    >
      <Share2 className="w-5 h-5" />
      <span>ê°„ë‹¨í•œ ê²°ê³¼ì§€ë¡œ ë³´ê¸°</span>
    </button>
  </div>
)}
```

### NeulPoomScreen2_5_Share.jsx

**ë’¤ë¡œê°€ê¸° í…ìŠ¤íŠ¸ ë™ì  ë³€ê²½:**

```jsx
{onBack && (
  <button
    onClick={onBack}
    className="mb-6 flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors"
  >
    <ArrowLeft className="w-5 h-5" />
    <span>{onViewDetail ? 'ìì„¸í•œ ê²°ê³¼ì§€ ë³´ê¸°' : 'ëŒì•„ê°€ê¸°'}</span>
  </button>
)}
```

---

## ğŸ”„ ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ì •ë³´ ì…ë ¥ ì „ (Choice â†’ Share â†’ Choice)

```
1. ì§„ë‹¨ ì™„ë£Œ â†’ Screen2.5_Choice
2. [ê³µìœ ìš© ê²°ê³¼ì§€] í´ë¦­
3. Screen2.5_Share í‘œì‹œ
4. [â† ëŒì•„ê°€ê¸°] í´ë¦­
5. Screen2.5_Choiceë¡œ ë³µê·€ âœ…
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: ì •ë³´ ì…ë ¥ í›„ (Chat â†’ Detail â†” Share â†” Detail â†’ Chat)

```
1. Screen3 (ì±„íŒ…)
2. [ìœ„ë¡œì„±í–¥ ì§„ë‹¨ ê²°ê³¼ì§€] í´ë¦­
3. Screen2.5_Detail í‘œì‹œ (ìì„¸í•œ)
4. [ê°„ë‹¨í•œ ê²°ê³¼ì§€ë¡œ ë³´ê¸°] í´ë¦­
5. Screen2.5_Share í‘œì‹œ (ê°„ë‹¨í•œ)
6. [â† ìì„¸í•œ ê²°ê³¼ì§€ ë³´ê¸°] í´ë¦­
7. Screen2.5_Detailë¡œ ë³µê·€
8. [â† ëŒì•„ê°€ê¸°] í´ë¦­
9. Screen3 (ì±„íŒ…)ìœ¼ë¡œ ë³µê·€ âœ…
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: ì±„íŒ… í—¤ë” ë²„íŠ¼ë“¤

```
Screen3 (ì±„íŒ…)
â”œâ”€ [ìœ„ë¡œì„±í–¥ ì§„ë‹¨ ê²°ê³¼ì§€] â†’ Detail (fromChat=true)
â”œâ”€ [ë‹¤ìŒ ì¹˜ìœ  ì—¬ì •] â†’ Screen4
â””â”€ [ëŠ˜í’ˆ] â†’ í™ˆí˜ì´ì§€
```

---

## ğŸ“‚ íŒŒì¼ ì ìš© ë°©ë²•

```bash
cd Test/front/src/site2/

# ë°±ì—… (ì„ íƒ)
mkdir backup_$(date +%Y%m%d)
cp NeulPoomApp.jsx backup_$(date +%Y%m%d)/
cp NeulPoomScreen3.jsx backup_$(date +%Y%m%d)/
cp NeulPoomScreen2_5_Detail.jsx backup_$(date +%Y%m%d)/
cp NeulPoomScreen2_5_Share.jsx backup_$(date +%Y%m%d)/
cp NeulPoomScreen4.jsx backup_$(date +%Y%m%d)/

# ì‹ ê·œ íŒŒì¼ ë³µì‚¬
cp [ë‹¤ìš´ë¡œë“œ]/NeulPoomApp_ìµœì¢…ì™„ì„±.jsx ./NeulPoomApp.jsx
cp [ë‹¤ìš´ë¡œë“œ]/NeulPoomScreen3_ìµœì¢….jsx ./NeulPoomScreen3.jsx
cp [ë‹¤ìš´ë¡œë“œ]/NeulPoomScreen2_5_Detail_ìµœì¢….jsx ./NeulPoomScreen2_5_Detail.jsx
cp [ë‹¤ìš´ë¡œë“œ]/NeulPoomScreen2_5_Share_ìµœì¢….jsx ./NeulPoomScreen2_5_Share.jsx
cp [ë‹¤ìš´ë¡œë“œ]/NeulPoomScreen4_ì™„ì „ìˆ˜ì •.jsx ./NeulPoomScreen4.jsx

# ì„œë²„ ì¬ì‹œì‘
cd Test/front/
npm run dev
```

---

## âœ… í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì •ë³´ ì…ë ¥ ì „ í…ŒìŠ¤íŠ¸

- [ ] ì§„ë‹¨ ì™„ë£Œ â†’ Choice í™”ë©´
- [ ] [ê³µìœ ìš©] â†’ Share â†’ [â† ëŒì•„ê°€ê¸°] â†’ Choice âœ…
- [ ] [ì„¤ëª…ìš©] â†’ ì–¼ëŸ¿ â†’ Screen1
- [ ] [ì •ë³´ì…ë ¥] â†’ Screen1 â†’ [â† ì´ì „ìœ¼ë¡œ] â†’ Choice âœ…

### ì •ë³´ ì…ë ¥ í›„ í…ŒìŠ¤íŠ¸

- [ ] Screen1 ì™„ë£Œ â†’ Detail â†’ ì±„íŒ…
- [ ] ì±„íŒ… â†’ [ìœ„ë¡œì„±í–¥ ì§„ë‹¨ ê²°ê³¼ì§€] â†’ Detail í‘œì‹œ
- [ ] Detail â†’ [ê°„ë‹¨í•œ ê²°ê³¼ì§€] â†’ Share í‘œì‹œ
- [ ] Share â†’ [â† ìì„¸í•œ ê²°ê³¼ì§€ ë³´ê¸°] â†’ Detail ë³µê·€
- [ ] Detail â†’ [â† ëŒì•„ê°€ê¸°] â†’ ì±„íŒ… ë³µê·€ âœ…

### ì±„íŒ… í—¤ë” ë²„íŠ¼ í…ŒìŠ¤íŠ¸

- [ ] [ìœ„ë¡œì„±í–¥ ì§„ë‹¨ ê²°ê³¼ì§€] â†’ Detail (fromChat=true)
- [ ] [ë‹¤ìŒ ì¹˜ìœ  ì—¬ì •] â†’ Screen4
- [ ] [ëŠ˜í’ˆ] â†’ í™ˆí˜ì´ì§€
- [ ] Detail/Share ìˆœí™˜ í›„ ì±„íŒ… ë³µê·€ âœ…

### Screen4 í…ŒìŠ¤íŠ¸

- [ ] ìƒë‹¨ [â† ëŒ€í™”ë¡œ ëŒì•„ê°€ê¸°] â†’ ì±„íŒ…
- [ ] í•˜ë‹¨ [ëŠ˜í’ˆ: í™ˆí˜ì´ì§€ì—ì„œ ìì„¸íˆ ì•Œì•„ë³´ê¸°] â†’ í™ˆ

---

## ğŸ› ì˜ˆìƒ ë¬¸ì œ í•´ê²°

### ë¬¸ì œ 1: Shareì—ì„œ ë’¤ë¡œê°€ê¸° ì‹œ Choiceë¡œ ê°

**ì›ì¸:** `fromChat` ìƒíƒœê°€ ì œëŒ€ë¡œ ì„¤ì •ë˜ì§€ ì•ŠìŒ

**í•´ê²°:**
```jsx
// NeulPoomApp.jsx í™•ì¸
const handleViewResultFromChat = () => {
  setFromChat(true);  // ì´ ì¤„ í™•ì¸
  setCurrentScreen('detail');
};
```

### ë¬¸ì œ 2: Detailì—ì„œ [ê°„ë‹¨í•œ ê²°ê³¼ì§€] ë²„íŠ¼ ì•ˆ ë³´ì„

**ì›ì¸:** `onViewShare` propì´ ì „ë‹¬ë˜ì§€ ì•ŠìŒ

**í•´ê²°:**
```jsx
// NeulPoomApp.jsx í™•ì¸
<NeulPoomScreen2_5_Detail
  petInfo={petInfo}
  diagnosisResult={diagnosisResult}
  onStartChat={handleStartChat}
  onBack={handleBackFromResult}
  onViewShare={fromChat ? handleDetailToShare : null}  // ì´ ì¤„ í™•ì¸
/>
```

### ë¬¸ì œ 3: ì±„íŒ… í—¤ë”ì— ë²„íŠ¼ 3ê°œ ì•ˆ ë³´ì„

**ì›ì¸:** Screen3ì— ì˜¬ë°”ë¥¸ props ì „ë‹¬ ì•ˆ ë¨

**í•´ê²°:**
```jsx
// NeulPoomApp.jsx í™•ì¸
<NeulPoomScreen3
  petInfo={petInfo}
  userId={userId}
  diagnosisResult={diagnosisResult}
  onViewResult={handleViewResultFromChat}  // í†µí•©ëœ í•¨ìˆ˜
  onNextJourney={handleNextJourney}
/>
```

---

## ğŸ’¡ í•µì‹¬ í¬ì¸íŠ¸

1. **fromChat State**: ì±„íŒ…ì—ì„œ ì˜¨ ê²½ìš°ë¥¼ ì¶”ì í•˜ì—¬ ë’¤ë¡œê°€ê¸° ë™ì‘ ì°¨ë³„í™”
2. **Detail â†” Share ìˆœí™˜**: ì •ë³´ ì…ë ¥ í›„ ììœ ë¡­ê²Œ ì™”ë‹¤ê°”ë‹¤ ê°€ëŠ¥
3. **ì¡°ê±´ë¶€ ë²„íŠ¼**: fromChatì— ë”°ë¼ ë²„íŠ¼ í‘œì‹œ/ìˆ¨ê¹€
4. **í†µí•© í—¤ë” ë²„íŠ¼**: ì±„íŒ… í—¤ë” 3ê°œ ë²„íŠ¼ìœ¼ë¡œ ê°„ì†Œí™”
5. **ë’¤ë¡œê°€ê¸° ë¡œì§**: ìƒí™©ì— ë§ëŠ” ì ì ˆí•œ í™”ë©´ìœ¼ë¡œ ë³µê·€

---

## ğŸ‰ ì™„ë£Œ!

**ìˆ˜ì •ëœ íŒŒì¼:**
1. NeulPoomApp_ìµœì¢…ì™„ì„±.jsx
2. NeulPoomScreen3_ìµœì¢….jsx
3. NeulPoomScreen2_5_Detail_ìµœì¢….jsx
4. NeulPoomScreen2_5_Share_ìµœì¢….jsx
5. NeulPoomScreen4_ì™„ì „ìˆ˜ì •.jsx

**êµ¬í˜„ëœ ê¸°ëŠ¥:**
1. âœ… ì •ë³´ ì…ë ¥ ì „/í›„ ë’¤ë¡œê°€ê¸° ì°¨ë³„í™”
2. âœ… Detail â†” Share ìˆœí™˜ êµ¬ì¡°
3. âœ… ì±„íŒ… í—¤ë” 3ê°œ ë²„íŠ¼ (í†µí•©)
4. âœ… [ê°„ë‹¨í•œ ê²°ê³¼ì§€ë¡œ ë³´ê¸°] ë²„íŠ¼
5. âœ… ëª¨ë“  ë„¤ë¹„ê²Œì´ì…˜ í”Œë¡œìš° ì™„ì„±

íŒŒì¼ë“¤ì„ í”„ë¡œì íŠ¸ì— ì ìš©í•˜ê³  í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”! ğŸ˜Š
